

<html>
<head>
<title>King</title>
<meta name="description" content="King">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">

<h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">
King</a>&nbsp;</font></b></td></tr></table></center>
</h1>

<p>
Once, in one kingdom, there was a queen and that queen was expecting a baby. The queen
prayed: ``If my child was a son and if only he was a sound king.'' After nine months her child was
born, and indeed, she gave birth to a nice son.

<p>
Unfortunately, as it used to happen in royal families, the son was a little retarded. After many
years of study he was able just to add integer numbers and to compare whether the result is greater
or less than a given integer number. In addition, the numbers had to be written in a sequence and
he was able to sum just continuous subsequences of the sequence.

<p>
The old king was very unhappy of his son. But he was ready to make everything to enable his
son to govern the kingdom after his death. With regards to his son's skills he decided that every
problem the king had to decide about had to be presented in a form of a finite sequence of integer
numbers and the decision about it would be done by stating an integer constraint (i.e. an upper
or lower limit) for the sum of that sequence. In this way there was at least some hope that his son
would be able to make some decisions.

<p>
After the old king died, the young king began to reign. But very soon, a lot of people became
very unsatisfied with his decisions and decided to dethrone him. They tried to do it by proving
that his decisions were wrong.

<p>
Therefore some conspirators presented to the young king a set of problems that he had to
decide about. The set of problems was in the form of subsequences 

<img width="213" height="34" align="MIDDLE" border="0" src="515img1.gif" alt="$S_i = \{a_{s_i}, a_{s_i+1}, \dots, a_{s_i+n_i}\}$">
of
a sequence 

<img width="155" height="34" align="MIDDLE" border="0" src="515img2.gif" alt="$S = \{a_1, a_2, \dots, a_n\}$">.
The king thought a minute and then decided, i.e. he set for the sum


<img width="194" height="30" align="MIDDLE" border="0" src="515img3.gif" alt="$a_{s_i} + a_{s_i+1} + \dots + a_{s_i+n_i}$">
of each subsequence <i>S</i><sub><i>i</i></sub> an integer constraint <i>k</i><sub><i>i</i></sub> (i.e. 


<img width="231" height="32" align="MIDDLE" border="0" src="515img4.gif" alt="$a_{s_i} + a_{s_i+1} + \dots + a_{s_i+n_i} < k_i$">
or 

<img width="231" height="32" align="MIDDLE" border="0" src="515img5.gif" alt="$a_{s_i} + a_{s_i+1} + \dots + a_{s_i+n_i} > k_i$">
resp.) and declared these constraints as his decisions.

<p>
After a while he realized that some of his decisions were wrong. He could not revoke the
declared constraints but trying to save himself he decided to fake the sequence that he was given.
He ordered to his advisors to find such a sequence <i>S</i> that would satisfy the constraints he set. Help
the advisors of the king and write a program that decides whether such a sequence exists or not.

<p>

<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">
Input</a>&nbsp;</font>
</h2>
The input file consists of blocks of lines. Each block except the last corresponds to one set of
problems and king's decisions about them. In the first line of the block there are integers <i>n</i>, and
<i>m</i> where 

<img width="96" height="30" align="MIDDLE" border="0" src="515img6.gif" alt="$0 < n \leY 100$">
is length of the sequence <i>S</i> and 

<img width="101" height="30" align="MIDDLE" border="0" src="515img7.gif" alt="$0 < m \leY 100$">
is the number of subsequences
<i>S</i><sub><i>i</i></sub>. Next <i>m</i> lines contain particular decisions coded in the form of quadruples 

<i>s</i><sub><i>i</i></sub>, <i>n</i><sub><i>i</i></sub>, <i>o</i><sub><i>i</i></sub>, <i>k</i><sub><i>i</i></sub>, where <i>o</i><sub><i>i</i></sub>
represents operator &gt; (coded as <tt>gt</tt>) or operator &lt; (coded as <tt>lt</tt>) respectively. The symbols <i>s</i><sub><i>i</i></sub>, <i>n</i><sub><i>i</i></sub>
and <i>k</i><sub><i>i</i></sub> have the meaning described above. The last block consists of just one line containing <tt>0</tt>.

<p>

<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">
Output</a>&nbsp;</font>
</h2>
The output file contains the lines corresponding to the blocks in the input file. A line contains
text <tt>successful conspiracy</tt> when such a sequence does not exist. Otherwise it contains text
<tt>lamentable kingdom</tt>. There is no line in the output file corresponding to the last ``null'' block of the input file.

<p>

<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">
Sample Input</a>&nbsp;</font>
</h2>

<p>
<pre>
4 2
1 2 gt 0
2 2 lt 2
1 2
1 0 gt 0
1 0 lt 0
0
</pre>

<p>

<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">
Sample Output</a>&nbsp;</font>
</h2>

<p>
<pre>
lamentable kingdom
successful conspiracy
</pre>

<p>

<p>
</body>
</html>
