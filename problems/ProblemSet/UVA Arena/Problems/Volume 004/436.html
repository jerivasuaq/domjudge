

<html>
<head>
<title>Arbitrage (II)</title>
<meta name="description" content="Arbitrage (II)">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">
 <h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">Arbitrage (II)</a></font>&nbsp;</b></td></tr></table></center></h1>
<p>
Arbitrage is the use of discrepancies in currency exchange rates to transform one unit of a currency
into more than one unit of the same currency. For example, suppose that 1 US Dollar buys 0.5
British pound, 1 British pound buys 10.0 French francs, and 1 French franc buys 0.21 US dollar.
Then, by converting currencies, a clever trader can start with 1 US dollar and buy 0.5 * 10.0 * 0.21
= 1.05 US dollars, making a profit of 5 percent.
Your job is to write a program that takes a list of currency exchange rates as input and then determines whether arbitrage is possible or not.
<p>
<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">Input Specification</a></font></h2>
<p>
The input file will contain one or more test cases. On the first line of each test case there is an
integer <i>n</i> ( <img width="81" height="25" align="MIDDLE" alt="tex2html_wrap_inline34" src="436img1.gif"> ), representing the number of different currencies. The next <i>n</i> lines each contain the name of one currency. Within a name no spaces will appear. The next line contains one integer <i>m</i>, representing the length of the table to follow. The last <i>m</i> lines each contain the name  <img width="11" height="17" align="MIDDLE" alt="tex2html_wrap_inline42" src="436img2.gif">  of a source currency, a real number  <img width="17" height="17" align="MIDDLE" alt="tex2html_wrap_inline44" src="436img3.gif">  which represents the exchange rate from  <img width="11" height="17" align="MIDDLE" alt="tex2html_wrap_inline42" src="436img2.gif">  to  <img width="12" height="17" align="MIDDLE" alt="tex2html_wrap_inline48" src="436img4.gif">  and a name  <img width="12" height="17" align="MIDDLE" alt="tex2html_wrap_inline48" src="436img4.gif">  of the destination currency. Exchanges which do not appear in the table are impossible. Test cases are separated from each other by a blank line. Input is terminated by a value of zero (0) for <i>n</i>.
<p>
<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">Output Specification</a></font></h2>
<p>
For each test case, print one line telling whether arbitrage is possible or not in the format &quot;<tt>Case</tt> <em>case</em><tt>: Yes</tt>&quot; respectively &quot;<tt>Case</tt> <em>case</em><tt>: No</tt>&quot;.
<p>
<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">Sample Input</a></font></h2>
<p>
<pre>3
USDollar
BritishPound
FrenchFranc
3
USDollar 0.5 BritishPound
BritishPound 10.0 FrenchFranc
FrenchFranc 0.21 USDollar

3
USDollar
BritishPound
FrenchFranc
6
USDollar 0.5 BritishPound
USDollar 4.9 FrenchFranc
BritishPound 10.0 FrenchFranc
BritishPound 1.99 USDollar
FrenchFranc 0.09 BritishPound
FrenchFranc 0.19 USDollar

0</pre>
<p>
<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">Sample Output</a></font></h2>
<p>
<pre>Case 1: Yes
Case 2: No</pre>
<p>
</body>
</html>
