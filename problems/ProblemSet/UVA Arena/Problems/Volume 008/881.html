<html>
<head>
<title>ACM - 3ª Sessão - 3º Problema</title>
</head>

<body>



<font color="#000000" face="Arial" size="2">

<p align="center"><b><font size="3" face="Arial" color="#000000">Points, Polygons and Containers
</font></b></p>

<p><b><font size="3"><a name="back">Background</a></font></b></p>

<p>&nbsp;&nbsp; Consider a set of closed polygons such that one polygon completely surrounds,
directly, 0, 1 or 2 polygons and each one of these may surround other 0, 1 or 2 polygons and
so on. In the example given in the figure 1, polygon C2 surrounds polygon C1; C1 surrounds C3
and C4.

<p>&nbsp;&nbsp; A container of a point (x,y) is the most interior polygon that still contains
the point. In the example, the container of point P1 is "null", the container of point P2 is
polygon C1 and the container of P3 is C3.

<p align="center"><img src="p881a.gif" alt="" border="0"><br>
<b>Figure 1</b> - Points and Polygons</p>
</p>

<p> 
<b><font size="3"><a name="problem">Problem</a></font></b></p>

<p>&nbsp;&nbsp; Given a set of polygons in the form of a list of vertices (<i>Vx,Vy</i>), and
a set of points (<i>Px,Py</i>), the problem proposed is to determine the container of each point.

<p>&nbsp;&nbsp; It is assumed that no coincidences exist between points and lines
segments and no pair of polygons are touching each other. The coordinates of points
and vertices may be any real value, positive or negative.

<p>
<b><font size="3"><a name="input">Input</a></font></b></p>
<b>
The input begins with a single positive integer on a line by itself indicating
the number of the cases following, each of them as described below.
This line is followed by a blank line, and there is also a blank line between
two consecutive inputs.
</b>
<p>
<p>

<p>&nbsp;&nbsp; <p>The input is a sequence of text lines, as
follows. </p>

<p>&nbsp;&nbsp; The first line contains the number <i>NC</i>
(integer format) of polygons.</p>

<p>It is followed by <i>NC</i> lines of text,
each line defining a polygon (no order of polygons is asumed). A polygon is
defined by its identifier (integer format) and a list of vertices. Each vertex
is defined by its coordinates (<i>Vx, Vy</i>), in decimal format. The vertices
are sorted accordingly to their sequence in the polygon.</p>

<p>The next line of text contains the number <i>NP</i>
of points to be processed.</p>

<p>It is followed by <i>NP</i> lines of text,
each line containing a point (no order of points is asumed). A point is
defined by its identifier (integer format) and coordinates (<i>Px, Py</i>).</p>

<p>All identifiers are bigger than zero and all
the values in a text line are separated by a space</p> 

<p>
<b><font size="3"><a name="output">Output</a></font></b></p>
<b>
For each test case, the output must follow the description below.
The outputs of two consecutive cases will be separated by a blank line.
</b>
<p>
<p>

<p>&nbsp;&nbsp; <i>NP </i>lines of
text, each one containing a point identifier and the container found, separated
by a space. A "null" container is identified with a zero.</p>

<p>&nbsp;&nbsp; The lines must be sorted by increasing order
of the points identifiers.</p>


<p><b>Sample Input</b><br>1<br><br>
4<br>
3 18 16 1 16 1 1 18 1<br>
1 2 15 2 2 14 2<br>
4 15 2 15 15 3 15<br>
2 10 4 4 10 4 4<br>
4<br>
2 20 4<br>
4 3 11<br>
3 5 6<br>
1 12 11<br>

<p><b>Sample Output</b><br>
1 4<br>
2 0<br>
3 2<br>
4 1<br>

<p align="center"><img src="p881b.gif" alt="" border="0"><br>
<b>Figure 2</b> - Example input</p>

<p>&nbsp;</p>

</font>
<hr>
<i>
A. Augusto Sousa, CPUP'2001 Round 3<br>
Concurso de Programação da Universidade do Porto
</i>

</body>

</html>
