

<html>
<head>
<title>Pousse</title>
<meta name="description" content="Pousse">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Generator" content="LaTeX2HTML v2K.1beta">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="STYLESHEET" href="htmlatex.css">

</head>

<body lang="EN" bgcolor="#FFFFFF">

<h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">
Pousse</a>&nbsp;</font></b></td></tr></table></center>
</h1>

<p>
Recently, the organizers of the International Conference on Functional
Programming had a programming contest for people to show that their language
was best. The contest main web page is at
<code>http://www.ai.mit.edu/extra/icfp-contest/</code>.
Each entrant had to write an implementation of the game ``pouse'', for which
the description went as follows:

<p>

<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">
Description of the game</a>&nbsp;</font>
</h2>
The name of the game is ``pousse" (which is French for ``push").  It is a 2
person game, played on an <span class="MATH"><i>N</i></span> by <span class="MATH"><i>N</i></span> board (the original game was 
<span class="MATH">4&#215;4</span> but

<span class="MATH"><i>N</i>&#215;<i>N</i></span> is a simple generalisation to adjust the difficulty of the game,
and its implementation).  Initially the board is empty, and the
players take turns inserting one marker of their color (`<tt>X</tt>' or `<tt>O</tt>') on the
board.  The color `<tt>X</tt>' always goes first.  The columns and rows are
numbered from 1 to <span class="MATH"><i>N</i></span>, starting from the top left, as in:

<p>
<pre>
     1 2 3 4
    +-+-+-+-+
  1 | | | | |
    +-+-+-+-+
  2 | | | | |
    +-+-+-+-+
  3 | | | | |
    +-+-+-+-+
  4 | | | | |
    +-+-+-+-+
</pre>

<p>
A marker can only be inserted on the board by sliding it onto a
particular row from the left or from the right, or onto a particular
column from the top or from the bottom.  So there are <span class="MATH">4*<i>N</i></span> possible
``moves" (ways to insert a marker).  They will be named `<tt>L</tt><span class="MATH"><i>i</i></span>', `<tt>R</tt><span class="MATH"><i>i</i></span>',
`<tt>T</tt><span class="MATH"><i>i</i></span>', `<tt>B</tt><span class="MATH"><i>i</i></span>' respectively, where <span class="MATH"><i>i</i></span> is the number of the row or column
where the insertion takes place.

<p>
When a marker is inserted, there may be a marker on the square where
the insertion takes place.  In this case, all markers on the insertion
row or column from the insertion square upto the first empty square
are moved one square further to make room for the inserted marker.
Note that the last marker of the row or column will be pushed off the
board (and must be removed from play) if there are no empty squares on
the insertion row or column.

<p>
A row or a column is a ``straight" of a given color, if it contains
<span class="MATH"><i>N</i></span> markers of the given color.

<p>
The game ends when an insertion
creates a configuration with more straights of one color than
   straights of the other color; the player whose color is dominant
   (in number of straights) WINS.

<p>

<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">
Input</a>&nbsp;</font>
</h2>
<b>The input begins with a single positive integer on a line by itself indicating
the number of the cases following, each of them as described below.
This line is followed by a blank line, and there is also a blank line between
two consecutive inputs.
</b>

<p><p>
<br>

<p>
The standard input of the program will contain a number <span class="MATH"><i>N</i><img width="18" height="30" align="MIDDLE" border="0" src="844img1.png" alt="$ \le$">100</span> on the first line and
this will be followed by a sequence of moves (in the notation
previously described) with one move per line.  There are no
intervening spaces or empty lines.

<p>
The program can assume that all moves in the sequence are valid.

<p>

<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">
Output</a>&nbsp;</font>
</h2>
<b>For each test case, the output must follow the description below.
The outputs of two consecutive cases will be separated by a blank line.
</b>

<p><p>
<br>

<p>
The organizers then want to play one submitted program against the
others to see which is best.  So they need to know when one program wins.

<p>
Your job is to write a program to determine when a game has been won.
The input to your program is the same as described above: an initial
number followed by a sequence of moves.  As soon as a move produces a
winning board position, your program should print
out whether `<tt>X WINS</tt>' or `<tt>O WINS</tt>', and exit.  If a line containing
`<tt>QUIT</tt>' is read before a winner is declared, your program should print
out `<tt>TIE GAME</tt>' and exit.  As a failsafe, the last line of every
input will be a `<tt>QUIT</tt>' line.

<p>

<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">
Sample Input</a>&nbsp;</font>
</h2>
<pre>
2

4
L2
T2
L2
B2
R2
QUIT

4
L2
T2
L2
B2
R2
T1
L2
QUIT
</pre>

<p>

<h2><font color="#0070E8"><a name="SECTION0001005000000000000000">
Sample Output</a>&nbsp;</font>
</h2>
<pre>
TIE GAME

X WINS
</pre>

<p>


<p>
<br><hr>
<address>
Miguel Revilla
2002-06-15
</address>
</body>
</html>

