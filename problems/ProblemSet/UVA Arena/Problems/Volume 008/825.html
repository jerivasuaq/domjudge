

<html>
<head>
<title>Walking on the Safe Side</title>
<meta name="description" content="Walking on the Safe Side">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Generator" content="LaTeX2HTML v2K.1beta">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="STYLESHEET" href="htmlatex.css">

</head>

<body lang="EN" bgcolor="#FFFFFF">

<h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">
Walking on the Safe Side</a>&nbsp;</font></b></td></tr></table></center>
</h1>
Square City is a very easy place for people to walk around. The two-way
streets run North-South or East-West
dividing the city into regular blocks. Most street intersections are safe
for pedestrians to cross. In some of them,
however, crossing is not safe and pedestrians are forced to use the available
underground passages. Such intersections
are avoided by walkers. The entry to the city park is on the North-West
corner of town, whereas the railway station is
on the South-East corner.

<p>

<p>
<br>
Suppose you want to go from the park to the railway station,
and do not want to walk more than the required number
of blocks. You also want to make your way avoiding the underground
passages, that would introduce extra delay.
Your task is to determine the number of different paths that you can
follow from the park to the station, satisfying both
requirements.

<p>
The example in the picture illustrates a city with 4 E-W
streets and 5 N-S streets. Three intersections
are marked as unsafe. The path from the park to the station is 3 + 4 = 7
blocks long and there are 4 such paths that
avoid the underground passages.

<p>
<div align="CENTER">

<img src="p825.jpg" alt="\epsfbox{p825.eps}">
</div>

<p>

<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">
Input</a>&nbsp;</font>
</h2>
<b>The input begins with a single positive integer on a line by itself indicating
the number of the cases following, each of them as described below.
This line is followed by a blank line, and there is also a blank line between
two consecutive inputs.
</b>

<p>

<p><p>
<br>

<p>
The first line of the input contains the number of East-West streets <span class="MATH"><i>W</i></span>
and the number of North-South streets <span class="MATH"><i>N</i></span>. Each
one of the following <span class="MATH"><i>W</i></span> lines starts with the number of an East-West
street, followed by zero or more numbers of the
North-South crossings which are unsafe. Streets are numbered from 1.

<p>

<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">
Output</a>&nbsp;</font>
</h2>
<b>For each test case, the output must follow the description below.
The outputs of two consecutive cases will be separated by a blank line.
</b>

<p>

<p><p>
<br>

<p>
The number of different minimal paths from the park to the station
avoiding underground passages.

<p>

<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">
Sample Input</a>&nbsp;</font>
</h2>
<pre>
1

4 5
1
2 2
3 3 5
4
</pre>

<p>

<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">
Sample Output</a>&nbsp;</font>
</h2>
<pre>
4
</pre>

<p>


<p>
<br><hr>
<address>
Cristina Ribeiro, MIUP'2001
</address>
</body>
</html>

