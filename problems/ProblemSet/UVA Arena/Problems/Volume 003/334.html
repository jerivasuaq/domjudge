

<html>
<head>
<title>Identifying Concurrent Events</title>
<meta name="description" content="Identifying Concurrent Events">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">
 <h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">Identifying Concurrent Events</a></font>&nbsp;</b></td></tr></table></center></h1>
<p>
It is important in distributed computer systems to identify those events (at
identifiable points in time) that are concurrent, or not related to each
other in time.  A group of concurrent events may sometimes attempt 
to simultaneously use the same resource, and this could cause problems.
<p>
<p>
Events that are not concurrent can be ordered in time.  For example, if
event  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline42" src="334img1.gif">  can be shown to always precede event  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline44" src="334img2.gif">  in time, then  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline42" src="334img1.gif">  and  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline44" src="334img2.gif">  are
obviously not concurrent.  Notationally we indicate that  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline42" src="334img1.gif">  precedes  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline44" src="334img2.gif">  by writing  <img width="56" height="18" align="MIDDLE" alt="tex2html_wrap_inline54" src="334img3.gif"> .  Note that the precedes relation is transitive, as expected. Thus if  <img width="56" height="18" align="MIDDLE" alt="tex2html_wrap_inline54" src="334img3.gif">  and  <img width="56" height="18" align="MIDDLE" alt="tex2html_wrap_inline58" src="334img4.gif"> , then we can also note that  <img width="56" height="18" align="MIDDLE" alt="tex2html_wrap_inline60" src="334img5.gif"> .
<p>
<p>
Sequential events in a single computation are not concurrent.  For example,
if a particular computation performs the operations identified by events  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline42" src="334img1.gif"> ,
 <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline44" src="334img2.gif">  and  <img width="13" height="17" align="MIDDLE" alt="tex2html_wrap_inline66" src="334img6.gif">  in that order, then clearly 
 <img width="56" height="18" align="MIDDLE" alt="tex2html_wrap_inline54" src="334img3.gif">  and  <img width="56" height="18" align="MIDDLE" alt="tex2html_wrap_inline58" src="334img4.gif"> .
<p>
<p>
Computations in a distributed system communicate by sending messages.  If
event <em>esend</em> corresponds to the sending of a message by one computation, and
event <em>erecv</em> corresponds to the reception of that message by a different
computation, then we can always note that  <img width="110" height="13" align="BOTTOM" alt="tex2html_wrap_inline72" src="334img7.gif"> , since a message cannot be received before it is sent.
<p>
<p>
In this problem you will be supplied with lists of sequential events for an
arbitrary number of computations, and the identification of an arbitrary
number of messages sent between these computations.  Your task is to identify
those pairs of events that are concurrent.
<p>
<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">Input</a></font></h2>
<p>
A number of test cases will be supplied.  For each test case the input will
include first an integer, <i>NC</i>, specifying the number of computations in the
test case.  For each of these <i>NC</i> computations there will be a single line
containing an integer  <img width="33" height="25" align="MIDDLE" alt="tex2html_wrap_inline78" src="334img8.gif">  that specifies the number of sequential events in
the computation followed by  <img width="33" height="25" align="MIDDLE" alt="tex2html_wrap_inline78" src="334img8.gif">  event names.  Event names will always contain
one to five alphanumeric characters, and will be separated from each other
by at least one blank.  Following the specification of the events in the last 
computation there will be a line with a single integer, <i>NM</i>, that specifies
the number of messages that are sent between computations.  Finally, on each
of the following <i>NM</i> lines there will be a pair of event names specifying the
name of the event associated with the sending of a message, and the event
associated with the reception of the message.  These names will have
previously appeared in the lists of events associated with computations, and
will be separated by at least one blank.  The last test case will be followed
by the single integer 0 on a line by itself.
<p>
<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">Output</a></font></h2>
<p>
For each test case, print the test case number (they are numbered sequentially
starting with 1), the number of pairs of concurrent events for the test case,
and any two pair of the concurrent event names.  If there is only one
concurrent pair of events, just print it.  And if there are no concurrent
events, then state that fact.
<p>
<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">Example</a></font></h2>
<p>
Consider the following input data:
<p>
<pre>2
2 e1 e2
2 e3 e4
1
e3 e1
0</pre>
<p>
There are two computations.  In the first <tt>e1</tt>  <img width="15" height="10" align="BOTTOM" alt="tex2html_wrap_inline86" src="334img9.gif">  <tt>e2</tt> and in the second <tt>e3</tt>  <img width="15" height="10" align="BOTTOM" alt="tex2html_wrap_inline86" src="334img9.gif">  <tt>e4</tt>.
A single message is sent from <tt>e3</tt> to <tt>e1</tt>, which means <tt>e3</tt>   <img width="15" height="10" align="BOTTOM" alt="tex2html_wrap_inline86" src="334img9.gif">  <tt>e1</tt>.  Using the
transitive property of the precedes relation we can additionally determine
that <tt>e3</tt>  <img width="15" height="10" align="BOTTOM" alt="tex2html_wrap_inline86" src="334img9.gif">  <tt>e2</tt>.  This leaves the pairs (<tt>e1</tt>,<tt>e4</tt>) and (<tt>e2</tt>,<tt>e4</tt>) as concurrent events.
<p>
<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">Sample Input</a></font></h2>
<p>
<pre>2
2 e1 e2
2 e3 e4
1
e3 e1
3
3 one two three
2 four five
3 six seven eight
2
one four
five six
1
3 x y zee
0
2
2 alpha beta
1 gamma
1
gamma beta
0</pre>
<p>
<h2><font color="#0070E8"><a name="SECTION0001005000000000000000">Sample Output</a></font></h2>
<p>
<pre>Case 1, 2 concurrent events: 
(e1,e4) (e2,e4) 
Case 2, 10 concurrent events: 
(two,four) (two,five) 
Case 3, no concurrent events.
Case 4, 1 concurrent events: 
(alpha,gamma)</pre>
<p>
</body>
</html>
