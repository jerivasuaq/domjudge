

<html>
<head>
<title>Safebreaker</title>
<meta name="description" content="Safebreaker">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">
 <h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">Safebreaker</a></font>&nbsp;</b></td></tr></table></center></h1>
<p>
We are observing someone playing the game of Mastermind. The object of this game
is to find a secret code by intelligent guess work, assisted by some clues. In this case the
secret code is a 4-digit number in the inclusive range from 0000 to 9999,
say ``3321''. The
player makes a first random guess, say ``1223'' and then, as for each of the future guesses,
gets a clue telling him how good his guess is. A clue consists of two numbers: the number
of correct digits (in this case 1: the ``2'' at the third position) and the additional number of
digits guessed correctly but in the wrong place (in this case 2:
the ``1'' and the ``3''). The clue would in this case be: ``1/2''.
<p>
<p>
Write a program that given a set of guesses and corresponding clues, tries to find the secret code.
<p>
<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">Input Specification</a></font></h2>
<p>
The first line of input specifies the number of test cases (<i>N</i>) your program has to process.
Each test case consists of a first line containing the number of
guesses <i>G</i> ( <img width="85" height="26" align="MIDDLE" alt="tex2html_wrap_inline35" src="296img1.gif"> ), and
<i>G</i> subsequent lines consisting of exactly 8 characters: a code of four digits, a blank, a digit
indicating the number of correct digits, a `<tt>/</tt>' and a digit indicating the number of correct but
misplaced digits.
<p>
<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">Output Specification</a></font></h2>
<p>
For each test case, the output contains a single line saying either:
<p>
<ul><li> <tt>impossible</tt> if there is no code consistent with all guesses.<li> <i>the secret code</i> if there is exactly one code consistent with all guesses.<li> <tt>indeterminate</tt> if there is more than one code which is consistent with all guesses.
</li></li></li></ul><h2><font color="#0070E8"><a name="SECTION0001003000000000000000">Example Input</a></font></h2>
<p>
<pre>4
6
9793 0/1
2384 0/2
6264 0/1
3383 1/0
2795 0/0
0218 1/0
1
1234 4/0
1
1234 2/2
2
6428 3/0
1357 3/0</pre>
<p>
<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">Example Output</a></font></h2>
<p>
<pre>3411
1234
indeterminate
impossible</pre>
<p>
</body>
</html>
