

<html>
<head>
<title>Napoleon's Grumble</title>
<meta name="description" content="Napoleon's Grumble">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">

<h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">
Napoleon's Grumble</a>&nbsp;</font></b></td></tr></table></center>
</h1>

<p>
Legend has it that, after being defeated in Waterloo, Napoleon Bonaparte, in retrospect of his
days of glory, talked to himself ``Able was I ere I saw Elba.'' Although, it is quite doubtful that
he should have said this in English, this phrase is widely known as a typical <em>palindrome</em>.

<p>

<p>
<br>
A palindrome is a symmetric character sequence that looks the same when read backwards, right
to left. In the above Napoleon's grumble, white spaces appear at the same positions when read
backwards. This is not a required condition for a palindrome. The following, ignoring spaces
and punctuation marks, are known as the first conversation and the first palindromes by human beings.

<p>

<p><p>
<br>

``Madam, I'm Adam.''

<p>
``Eve.''

<p>
<em>(by Mark Twain)</em>

<p>

<p><p>
<br>
Write a program that finds palindromes in input lines.

<p>

<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">
Input</a>&nbsp;</font>
</h2>
A multi-line text is given as the input. The input ends at the end of the file.

<p>

<p>
<br>
There are at most 100 lines in the input. Each line has less than 1024 Roman alphabet characters.

<p>

<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">
Output</a>&nbsp;</font>
</h2>
Corresponding to each input line, a line consisting of <em>all</em> the character sequences that are palindromes in the input line should be output. However, trivial palindromes consisting of only one or two characters should not be reported.

<p>

<p>
<br>
On finding palindromes, any characters in the input except Roman alphabets, such as punctuation characters, digits, spaces, and tabs, should be ignored. Characters that differ only in their cases should be looked upon as the same character. Whether or not the character sequences represent a proper English word or sentence does not matter.

<p>

<p>
<br>
Palindromes should be reported all in uppercase characters. When two or more
palindromes are reported, they should be separated by a space character. You
must report palindromes in lexicographical order.

<p>

<p>
<br>
If two or more occurrences of the same palindromes are found in the same input line, report
only once. When a palindrome overlaps with another, even when one is completely included in
the other, both should be reported. However, palindromes appearing in the center of another
palindrome, whether or not they also appear elsewhere, should not be reported. For example,
for an input line of ``<tt>AAAAAA</tt>'', two palindromes ``<tt>AAAAAA</tt>'' and ``<tt>AAAAA</tt>'' should be output, but
not ``<tt>AAAA</tt>'' nor ``<tt>AAA</tt>''. For ``<tt>AAABCAAAAAA</tt>'', the output remains the same.

<p>

<p>
<br>
One line should be output corresponding to one input line. If an input line does not contain any palindromes, an empty line should be output.

<p>

<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">
Sample Input</a>&nbsp;</font>
</h2>

<p>
<pre>
As the first man said to the
first woman:
"Madam, I'm Adam."
She responded:
"Eve."
</pre>

<p>

<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">
Sample Output</a>&nbsp;</font>
</h2>
				
<pre>
TOT

MADAM MADAMIMADAM
DED ERE
EVE
</pre>

<p>

<p><p>
<br>

<b>Note</b> that the second line in the output is empty, corresponding to the second input line containing no palindromes. Also note that some of the palindromes in the third input line, namely
``<tt>ADA</tt>'', ``<tt>MIM</tt>'', ``<tt>AMIMA</tt>'', ``<tt>DAMIMAD</tt>'', and ``<tt>ADAMIMADA</tt>'', are not reported because they appear at
the center of reported ones. ``MADAM'' is reported, as it does not appear in the center, but only once, disregarding its second occurrence.

<p>

<p>
<br><hr>
<address>
<i>Miguel A. Revilla</i>
<br><i>1999-03-05</i>
</address>
</body>
</html>

