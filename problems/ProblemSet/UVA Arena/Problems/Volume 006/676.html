

<html>
<head>
<title>Horse Step Maze</title>
<meta name="description" content="Horse Step Maze">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">

<h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">
Horse Step Maze</a>&nbsp;</font></b></td></tr></table></center>
</h1>

<p>
Maze search has been developed for a long time, and the related
competition is held often. In this problem you have to design a program
that simulates a computer mouse to find a path in a maze from a starting
point to an ending point. To find such a path, the computer mouse must
follow the `<em>knight</em>' steps as shown in Fig. 1. The numbers 1, 2, 3 and 4
indicate the sequence of four directions the computer mouse has to try
while searching for a path. Specifically, the computer mouse must
always try direction 1 first until it cannot continue searching the path to
the ending point in the maze. When that happens, the computer mouse
can backtrack and try direction 2. Similarly, if direction 2 can not work,
direction 3 is tried and then direction 4.

<p>

Actually, our computer mouse is quite intelligent. Before it tries direction 1 it drops a stone. The mouse won't go into a field
with a stone on it (unless it is backtracking). But it's not very clever, so after trying direction 4 (before it backtracks) it
removes the stone.

<p>
<div align="CENTER">

<img src="p676.gif">

<p>
<br>
<img width="20" height="19" align="BOTTOM" border="0" src="676img1.gif" alt="\begin{picture}(20,12)(0,0)
\put (10,6){\circle*{12}}
\end{picture}">
represents the location of computer mouse at present

<p>
<br>
<img width="32" height="6" align="BOTTOM" border="0" src="676img2.gif" alt="\begin{picture}(20,12)(0,0)
\put (0,6){\vector(1,0){20}}
\end{picture}">
represents the step that computer mouse can walk

<p>
The numbers 1, 2, 3 and 4 indicate the sequence of four directions the
computer mouse must follow to find a path in the maze.

<p>

<p>
<br>
Fig. 1: The rule of the horse step
</div>

<p>
The size of given maze is 9 by 9, and its coordinates are shown in Fig. 2.
Initially, you are given the starting and ending points of a maze. Your
program must print the walking path of the mouse if the ending point of
the maze can be reached and the number of steps is less than or equal to 50000.
If the number of steps is over 50000 print `<tt>more than 50000 steps</tt>'.
Otherwise, ``<tt>fail</tt>'' should be printed.

<p>
<div align="CENTER">

<img src="p676b.gif">

<p>
<br>
Fig. 2: The coordinates of the maze
</div>

<p>

<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">
Input</a>&nbsp;</font>
</h2>
The first line of the input is an integer N, then a blank line followed by N datasets. There is a blank line between datasets.

<p>Each dataset consists of the coordinate of the starting point followed by the coordinate of the
ending point in a maze.

<p>

<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">
Output</a>&nbsp;</font>
</h2>
For each dataset, output the coordinates of the walking path from the starting point to the ending
point or ``<tt>fail</tt>''. Print a blank line between datasets.

<p>

<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">
Sample Input</a>&nbsp;</font>
</h2>

<p>
<pre>
1

(1,1)
(9,9)
</pre>

<p>

<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">
Sample Output</a>&nbsp;</font>
</h2>
				
<pre>
(1,1), (2,2), (1,3), (2,4), (1,5), (2,6), (1,7), (2,8), (1,9), (2,8), (3,9), (4,8), (5,9), (6,8), (7,9), (8,8), (9,9)
</pre>

<p>

<p>
<br><hr>
<address>
<i>Miguel Revilla</i>
<br><i>2000-08-14</i>
</address>
</body>
</html>

