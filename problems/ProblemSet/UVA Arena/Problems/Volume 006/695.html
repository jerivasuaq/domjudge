

<html>
<head>
<title>Placing the Ops</title>
<meta name="description" content="Placing the Ops">
<meta name="keywords" content="htmlatex">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" href="htmlatex.css">
</head>
<body lang="EN" bgcolor="#FFFFFF">

<h1><br clear="ALL"><center><table bgcolor="#0060F0"><tr><td><b><font size="5" color="#C0FFFF">&nbsp;<a name="SECTION0001000000000000000000">
Placing the Ops</a>&nbsp;</font></b></td></tr></table></center>
</h1>

<p>
In an old brainteaser you are given a set of digits and a set of operators and
asked to arrange the digits and the operators to form an expression that has a
particular value.  This problem is a variant of that brainteaser.

<p>

<p>
<br>
In this problem you will be presented with a sequence of no more than ten
digits (not necessarily unique) with an imbedded equal sign, and a collection
of at least one but no more than five integer operators
(from the set `<tt>+</tt>', `<tt>-</tt>', `<tt>*</tt>', and `<tt>/</tt>').

<p>
Your problem is to insert each of the operators between the correct pair of
digits so the equation thus formed is arithmetically correct, assuming all
operators have the same precedence, and that each side of the expression is
evaluated strictly left to right.  At least one digit will appear on each
side of the equal sign.

<p>

<p>
<br>
For example, you might be given '957=52' and the operators `<tt>+</tt>' and
`<tt>*</tt>'. Arranging these in the form '9*5+7=52' makes the equation correct. 
Or you might be given '123=456' and the operations `<tt>+</tt>', `<tt>+</tt>', 
`<tt>-</tt>', and `<tt>*</tt>'.  If you arrange these in the form '1*2+3=4-5+6'
you'll find each side of the equation has the value 5.  As a final example
consider '135=642' and the operators `<tt>+</tt>', `<tt>+</tt>', `<tt>*</tt>' 
and `<tt>*</tt>'.  The arrangement '1+3*5=6+4*2' makes each side of the equation
have the value 20 (note the strict left-to-right evaluation order on each side
of the equation).

<p>

<p>
<br>
The division operator will yield only an integer result, and must obviously
never be used with a denominator of zero.  No value in an expression will
require more than six decimal digits.  Each operator must be used exactly once.
The order in which the digits appear, and the placement of the
equal sign cannot be altered.

<p>

<h2><font color="#0070E8"><a name="SECTION0001001000000000000000">
Input</a>&nbsp;</font>
</h2>
The input will consist of multiple test cases, each having two separate lines
of input.  On the first line for each case there will appear the digits and
the imbedded equal sign, starting in the first column.  The end of line will
immediately follow the last digit.  The second line will contain the
operators to be used, starting in column one with the end of line immediately
following the last operator.  The operators will not be given in any
particular order.  The last test case will be followed by a line containing a
dollar sign (`<tt>$</tt>') in column one.

<p>

<h2><font color="#0070E8"><a name="SECTION0001002000000000000000">
Output</a>&nbsp;</font>
</h2>
For each test case your are to display the case number (numbered sequentially
starting with 1), a colon, and the arithmetically correct expression with
the operators shown in the proper positions.  If there are multiple correct
answers, then any one of them will be acceptable.  If there is no solution
for a particular case, display ``<tt>NO SOLUTION</tt>" instead of the equation.

<p>

<h2><font color="#0070E8"><a name="SECTION0001003000000000000000">
Sample Input</a>&nbsp;</font>
</h2>

<p>
<pre>
957=52
+*
123=456
++-*
135=642
++**
8916=95
//+
12=34
+-
$
</pre>

<p>

<h2><font color="#0070E8"><a name="SECTION0001004000000000000000">
Sample Output</a>&nbsp;</font>
</h2>
				
<pre>
Case 1: 9*5+7=52
Case 2: 1*2+3=4-5+6
Case 3: 1+3*5=6+4*2
Case 4: 8+9/16=9/5
Case 5: NO SOLUTION
</pre>

<p>

<p>
<br><hr>
<address>
<i>Miguel Revilla</i>
<br><i>2000-08-14</i>
</address>
</body>
</html>

